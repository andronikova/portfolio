{% extends "layout.html" %}

{% block title  %}
        rebalance
{% endblock %}

{% block main %}

<!--Add new ticker-->
{% if type == 1 %}
<form action="\rebalance\addnew" method="POST">
        <div class="form-group">
            <input id="newticker" autocomplete='on' class="form-control" type="text" name="newticker" placeholder="new ticker">
            <input id="submitnewticker" name="submitnewticker" type="submit" disabled>
        </div>
</form>

<script>
    document.querySelector('#newticker').onkeyup = function(){
        if (document.querySelector('#newticker').value === '') {
        document.querySelector('#submitnewticker').disabled = true;
        } else {
        document.querySelector('#submitnewticker').disabled = false;
        }
    }
</script>
{% endif %}


{% if type == 2 %}
    <h5 id="ticker_info">{{ticker}}  </h5>

    <form onsubmit="calc(); return false;">
        <input id="number" autocomplete="off" class="form-group" type="number" name="number" placeholder = "number">
        <input type='submit'>
    </form>

    <script>
        function calc()
        {
            let full_price = document.querySelector('#number').value;
            document.querySelector('#ticker_info').innerHTML = {{ ticker }} + full_price
        }
    </script>
{{"${:,.2f}".format(price)}}

{% endif %}
{% endblock %}